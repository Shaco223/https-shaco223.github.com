(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c46cf"],{"3b7a":function(t,e,n){"use strict";n.r(e);var a,r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"text-align":"center",padding:"20% 30px 0"}},[t.detail?[n("van-image",{attrs:{round:"",fit:"cover",width:"120",height:"120",src:t.detail.merchantAvatar}}),n("div",{staticStyle:{margin:"20px 0"}},[t._v(t._s(t.detail.merchantName))]),n("van-button",{attrs:{color:"#FFB016",round:"",block:"",loading:t.btnLoading,"loading-text":"正在绑定"},on:{click:t.onSubmit}},[t._v("绑定管理员")])]:t._e()],2)},c=[],i=(n("b0c0"),n("ac1f"),n("5319"),n("1276"),n("96cf"),n("1da1")),o=n("ade3"),d=(n("66b9"),n("b650")),s=(n("e7e5"),n("d399")),u=(n("4056"),n("44bf")),m=n("ed08"),h=n("bc3a"),l=n.n(h),f={name:"",data:function(){return{form:{},detail:null,btnLoading:!1}},components:(a={},Object(o["a"])(a,u["a"].name,u["a"]),Object(o["a"])(a,s["a"].name,s["a"]),Object(o["a"])(a,d["a"].name,d["a"]),a),created:function(){s["a"].loading({duration:0,message:"加载中...",forbidClick:!0});var t=window.location.href.split("#")[0];this.form.code=Object(m["b"])(t)["code"],this.form.merchantId=this.$route.query.id,this.form.tenantId=this.$route.query.tenant,this.checkBinding()},methods:{checkBinding:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("/auth/checkBind",{code:t.form.code,merchantId:t.form.merchantId,tenantId:t.form.tenantId});case 2:n=e.sent,200==n.status&&(s["a"].clear(),t.detail=n.payload);case 4:case"end":return e.stop()}}),e)})))()},onSubmit:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.btnLoading=!0,e.next=3,l.a.post("/auth/bindStaff",{openId:t.detail.openId,merchantId:t.form.merchantId,tenantId:t.form.tenantId});case 3:n=e.sent,t.btnLoading=!1,200==n.status&&t.$router.replace("/".concat(t.$store.state.tenantId,"/bindSuccess"));case 6:case"end":return e.stop()}}),e)})))()}}},b=f,p=n("2877"),g=Object(p["a"])(b,r,c,!1,null,"729f5872",null);e["default"]=g.exports}}]);